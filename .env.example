# SC2CR Environment Configuration
# Copy this file to .env and configure the values for your environment

# ===================================
# CORE APPLICATION SETTINGS
# ===================================

# Server Configuration
PORT=3000

# ===================================
# EXTERNAL API INTEGRATIONS
# ===================================

# Firebase Configuration (for ladder data)
# JSON string containing service account credentials
# Google Drive service account key is already configured above

# Challonge API Configuration  
# Get API key from https://challonge.com/settings/developer
CHALLONGE_API_KEY=your_challonge_api_key_here
CURRENT_TOURNAMENT=your_current_tournament_id

# Google Drive API Configuration (for replays and analytics backup)
# JSON string containing service account credentials with Drive API access
GOOGLE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"your-project"}

# SC2 Pulse API Configuration
# Rate limiting for external API calls (requests per second)
PULSE_RPS=10

# Replay Analyzer Service
# URL to external replay analysis service
REPLAY_ANALYZER_URL=https://your-replay-analyzer.com

# ===================================
# FEATURE FLAGS
# ===================================

# Phase 2: Analytics API Features
# Master switch for all player analytics endpoints
ENABLE_PLAYER_ANALYTICS=true

# Phase 3: Automated Data Collection
# Master switch for scheduled snapshot operations
ENABLE_PLAYER_SNAPSHOTS=false

# Future phases (not yet implemented)
ENABLE_REAL_TIME_DELTAS=false
ENABLE_PREDICTIVE_ANALYTICS=false
ENABLE_TOURNAMENT_INTEGRATION=false

# ===================================
# PHASE 3: ANALYTICS SCHEDULER CONFIGURATION
# ===================================

# Snapshot Collection Schedule
# How often to collect player ranking snapshots (hours)
PLAYER_SNAPSHOT_INTERVAL_HOURS=24

# Activity Analysis Schedule  
# How often to compute player activity patterns (hours)
PLAYER_ACTIVITY_INTERVAL_HOURS=2

# Position Change Analysis Schedule
# How often to analyze significant player movements (hours)
PLAYER_MOVERS_INTERVAL_HOURS=3

# ===================================
# PHASE 3: PERSISTENCE CONFIGURATION
# ===================================

# Google Drive Backup Settings
# How long to retain backup files (days)
BACKUP_RETENTION_DAYS=90

# Google Drive folder structure
ANALYTICS_DRIVE_FOLDER=SC2CR_Analytics
SNAPSHOTS_DRIVE_SUBFOLDER=DailySnapshots

# ===================================
# PHASE 3: DELTA COMPUTATION SETTINGS
# ===================================

# Default analysis time window for position changes (hours)
DEFAULT_DELTA_TIME_WINDOW_HOURS=24

# Minimum confidence threshold for including results (0-100)
DEFAULT_MINIMUM_CONFIDENCE=75

# Maximum age of baseline data before considering it stale (hours)
MAX_BASELINE_AGE_HOURS=48

# ===================================
# PERFORMANCE AND CACHING
# ===================================

# Cache TTL for different data types (seconds)
LIVE_DATA_CACHE_TTL=30
SNAPSHOT_CACHE_TTL=86400
ANALYTICS_CACHE_TTL=7200

# Position indicator cache duration for client-side caching (hours)
POSITION_INDICATOR_CACHE=24

# ===================================
# GAME CONFIGURATION
# ===================================

# MMR ranges for match categorization
MMR_RANGE_FOR_PREMIER_MATCH=100
MMR_RANGE_FOR_CLOSE_MATCH=200

# ===================================
# MONITORING AND OBSERVABILITY  
# ===================================

# Enable detailed request logging (debug mode)
ENABLE_DEBUG_LOGGING=false

# Enable performance metrics collection
ENABLE_METRICS_COLLECTION=true

# Enable health check endpoints
ENABLE_HEALTH_ENDPOINTS=true

# ===================================
# DEVELOPMENT AND TESTING
# ===================================

# Test environment detection
NODE_ENV=development

# Skip external API calls during testing
SKIP_EXTERNAL_APIS_IN_TEST=true

# Use mock data instead of real API calls
USE_MOCK_DATA=false

# ===================================
# EXAMPLE VALUES FOR DEVELOPMENT
# ===================================

# Uncomment and modify these for local development:

# ENABLE_PLAYER_ANALYTICS=true
# ENABLE_PLAYER_SNAPSHOTS=true  
# PLAYER_SNAPSHOT_INTERVAL_HOURS=1
# ENABLE_DEBUG_LOGGING=true
# USE_MOCK_DATA=true

# ===================================
# PRODUCTION DEPLOYMENT NOTES
# ===================================

# For production deployment:
# 1. Set ENABLE_PLAYER_ANALYTICS=true to enable analytics APIs
# 2. Set ENABLE_PLAYER_SNAPSHOTS=true to start automated data collection
# 3. Configure Google Drive credentials for backup functionality
# 4. Adjust interval settings based on expected load and data needs
# 5. Set appropriate cache TTL values for your traffic patterns
# 6. Enable monitoring and health checks for operational visibility

# Security considerations:
# - Keep service account keys secure and rotate regularly
# - Use environment-specific API keys and credentials
# - Monitor API usage to stay within rate limits
# - Enable logging in production for debugging and monitoring